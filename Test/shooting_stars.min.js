const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;const starDust={x:0,y:0,dx:0,dy:0,drag:0,life:0,age:0,draw(){this.x+=this.dx,this.y+=this.dy,this.dx*=this.drag,this.dy*=this.drag;const unitLife=this.life/this.age;return ctx.globalAlpha=unitLife,ctx.beginPath(),ctx.fillStyle="white",ctx.arc(this.x,this.y,1,0,Math.PI),ctx.fill(),this.life-=1,this.life>0},init(x,y,vx,vy){this.x=x,this.y=y,this.dx=vx,this.dy=vy,this.age=100*Math.random()+60|0,this.life=this.age,this.drag=.01*Math.random()+.99}},dust={particles:[],pool:[],createParticle:particleDesc=>Object.assign({},particleDesc),add(x,y,vx,vy){var dust;return(dust=this.pool.length?this.pool.pop():this.createParticle(starDust)).init(x,y,vx,vy),this.particles.push(dust),dust},draw(){console.info("drawing...",this.particles.length);for(var i=0;i<this.particles.length;)!1===this.particles[i].draw()?this.pool.push(this.particles.splice(i,1)[0]):i++}},star={x:500,y:100,dx:2,dy:-2};function drawBG(){ctx.fillStyle="black",ctx.fillRect(0,0,canvas.width,canvas.height),animate()}function animate(){star&&Math.random()<.1&&dust.add(star.x,star.y,star.dx,star.dy),dust.draw(),requestAnimationFrame(animate)}drawBG();
//# sourceMappingURL=shooting_stars.min.js.map